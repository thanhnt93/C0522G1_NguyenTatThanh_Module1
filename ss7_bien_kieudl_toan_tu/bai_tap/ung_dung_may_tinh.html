<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Máy tính</title>
    <style>
        #basicCaculator{
            width:400px;
            height:300px;
            background-color: #eaedef;
            margin:0 auto;
            border-radius: 5px;
            border: 1px solid black;
        }

        body{
            background-color: #90a094;
        }
        #mayTinh{
            width:320px;
            height:520px;
            background-color: #eaedef;
            margin:0 auto;
            border-radius: 5px;
        }

        #ketQua{
            height: 120px;
        }
        #ketQuaCu{
            text-align: right;
            height:20px;
            margin:0 20px;
            padding-top:20px;
            font-size:15px;
            color:#919191;
        }
        #xuatKetQua {
            text-align: right;
            height:60px;
            margin: 10px 20px;
            font-size: 30px;
        }
        #banPhim{
            height: 400px;
        }
        .heThong, .conSo, .trong {
            width:50px;
            height:50px;
            margin: 15px;
            float:left;
            border-radius: 50%;
            border-width: 0;
            font-weight:bold;
            font-size:16px;
        }
        .conSo, .trong{
            background-color: #eaedef;
        }
        .heThong, .conSo{
            cursor: pointer;
        }
        .heThong:active, .conSo:active {
            font-size: 13px;
        }
        .heThong:focus, .conSo:focus, .trong:focus{
            outline: 0;
        }
        button:nth-child(4) {
            font-size: 20px;
            background-color: #20b2aa;
        }
        button:nth-child(8) {
            font-size: 20px;
            background-color: #ffa500;
        }
        button:nth-child(12) {
            font-size: 20px;
            background-color: #f08080;
        }
        button:nth-child(16) {
            font-size: 20px;
            background-color: #7d93e0;
        }
        button:nth-child(20) {
            font-size: 20px;
            background-color: #9477af;
        }
    </style>
</head>
<body>
<div id="basicCaculator">
    <h2 style="text-align: center">Basic Caculator</h2>
    <input style="margin-left: 20px" type="number" id="numberA">
    <input type="number" id="numberB"> <br><br>
    <input style="margin-left: 18px" type="button" onclick="phepCong()" value="Addition(+)">
    <input type="button" onclick="phepTru()" value="Subtraction(-)">
    <input type="button" onclick="phepNhan()" value="Multiplication(X)">
    <input type="button" onclick="phepChia()" value="Division(/)">
    <p style="margin-left: 20px" id="resurt"></p>
</div>

<h2 style="text-align: center">Advanced Calculator</h2>
<div id="mayTinh">
    <div id="ketQua">
        <div id="ketQuaCu">
            <p id="giaTriCu"></p>
        </div>
        <div id="xuatKetQua">
            <p id="giaTriXuat"></p>
        </div>
    </div>
    <div id="banPhim">
        <button class="heThong" id="xoaTatCa">C</button>
        <button class="heThong" id="xoaTungSo">CE</button>
        <button class="heThong" id="%">%</button>
        <button class="heThong" id="/">÷</button>
        <button class="conSo" id="7">7</button>
        <button class="conSo" id="8">8</button>
        <button class="conSo" id="9">9</button>
        <button class="heThong" id="*">×</button>
        <button class="conSo" id="4">4</button>
        <button class="conSo" id="5">5</button>
        <button class="conSo" id="6">6</button>
        <button class="heThong" id="-">-</button>
        <button class="conSo" id="1">1</button>
        <button class="conSo" id="2">2</button>
        <button class="conSo" id="3">3</button>
        <button class="heThong" id="+">+</button>
        <button class="trong"></button>
        <button class="conSo" id="0">0</button>
        <button class="trong"></button>
        <button class="heThong" id="=">=</button>
    </div>
</div>
<script>
    function phepCong() {
        let numberA = document.getElementById('numberA').value;
        let numberB = document.getElementById('numberB').value;
        let addition = parseInt(numberA) + parseInt(numberB);
        document.getElementById('resurt').innerText = 'Kết quả = ' + addition;

    }  function phepTru() {
        let numberA = document.getElementById('numberA').value;
        let numberB = document.getElementById('numberB').value;
        let subtraction = parseInt(numberA) - parseInt(numberB);
        document.getElementById('resurt').innerText = 'Kết quả = ' + subtraction;

    }  function phepNhan() {
        let numberA = document.getElementById('numberA').value;
        let numberB = document.getElementById('numberB').value;
        let multiplication = parseInt(numberA) * parseInt(numberB);
        document.getElementById('resurt').innerText = 'Kết quả = ' + multiplication;
    }

    function phepChia() {
        let numberA = document.getElementById('numberA').value;
        let numberB = document.getElementById('numberB').value;
        let division = parseInt(numberA) / parseInt(numberB);
        document.getElementById('resurt').innerText = 'Kết quả = ' + division ;
    }

    function layGiaTriCu(){
        return document.getElementById("giaTriCu").innerText;
    }
    function inGiaTriCu(so) {
        document.getElementById("giaTriCu").innerText = so;
    }
    function layKetQua() {
        return document.getElementById("giaTriXuat").innerText;
    }
    function inKetQua(so) {
        document.getElementById("giaTriXuat").innerText = so;
    }
    function dinhDangChuoi(so) {
        var n = Number(so);
        var giaTri = n.toLocaleString("en");
        return giaTri;
    }
    function xoaDinhDangChuoi(so) {
        return Number(so.replace(/,/g, ''))
    }
    var conSo = document.getElementsByClassName('conSo');
    for(var i=0; i<conSo.length; i++) {
        conSo[i].addEventListener('click', function() {
            var ketQua = xoaDinhDangChuoi(layKetQua())
            if(ketQua != NaN) {
                ketQua = ketQua + this.id;
                inKetQua(ketQua)
            }
        })
    }
    function inKetQua(so) {
        if(so=="") {
            document.getElementById("giaTriXuat").innerText = so;
        } else {
            document.getElementById("giaTriXuat").innerText = dinhDangChuoi(so);
        }
    }

    var heThong = document.getElementsByClassName('heThong');
    for(var i=0; i < heThong.length; i++) {
        heThong[i].addEventListener('click', function() {
            if(this.id == "xoaTatCa") {
                inKetQua("");
                inGiaTriCu("");
            }
            else if(this.id == "xoaTungSo") {
                let ketQua = xoaDinhDangChuoi(layKetQua()).toString();
                if(ketQua) {
                    ketQua = ketQua.substr(0, ketQua.length -1)
                    inKetQua(ketQua)
                }
            }
            else {
                var ketQua = layKetQua();
                var ketQuaCu = layGiaTriCu();
                if(ketQua != "" ) {
                    ketQua = xoaDinhDangChuoi(ketQua);
                    ketQuaCu =ketQuaCu + ketQua;
                    if(this.id == "=") {
                        var ketQuaCuoi = eval(ketQuaCu);
                        inKetQua(ketQuaCuoi)
                        inGiaTriCu("")
                    } else {
                        ketQuaCu = ketQuaCu + this.id;
                        inGiaTriCu(ketQuaCu)
                        inKetQua("")
                    }
                }
            }
        })
    }

</script>
</body>
</html>